<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Macro Bias Dashboard</title>

<style>
:root {
  --bg: #0e1117;
  --card: #161b22;
  --text: #e6edf3;
  --muted: #9da7b3;
  --bull: #2ecc71;
  --bear: #e74c3c;
  --neutral: #f1c40f;
}

body {
  margin: 0;
  font-family: Inter, system-ui, sans-serif;
  background: var(--bg);
  color: var(--text);
}

.container {
  max-width: 1100px;
  margin: auto;
  padding: 24px;
}

h1 {
  margin-bottom: 6px;
  font-size: 26px;
}

.updated {
  color: var(--muted);
  font-size: 13px;
  margin-bottom: 24px;
}

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 20px;
}

.card {
  background: var(--card);
  border-radius: 14px;
  padding: 20px;
}

.asset {
  font-size: 20px;
  margin-bottom: 6px;
}

.bias {
  font-size: 34px;
  font-weight: 700;
}

.bullish { color: var(--bull); }
.bearish { color: var(--bear); }
.neutral { color: var(--neutral); }

.confidence {
  font-size: 13px;
  color: var(--muted);
  margin-bottom: 12px;
}

.drivers li {
  margin-bottom: 6px;
  font-size: 14px;
}

.footer {
  margin-top: 30px;
  color: var(--muted);
  font-size: 12px;
}
</style>
</head>

<body>
<div class="container">
  <h1>Macro Bias Dashboard</h1>
  <div class="updated" id="updated">Loading…</div>

  <div class="grid">
    <div class="card" id="us500"></div>
    <div class="card" id="gold"></div>
  </div>

  <div class="footer">
    Built for execution context — not prediction.
  </div>
</div>

<script>
fetch("latest.json")
  .then(res => res.json())
  .then(data => {
    document.getElementById("updated").innerText =
      "Last updated (UTC): " + data.updated_utc.replace("T", " ").split(".")[0];

    renderAsset("us500", "US500", data.us500);
    renderAsset("gold", "Gold (XAUUSD)", data.gold);
  });

function renderAsset(id, title, obj) {
  const biasClass = obj.bias.toLowerCase();
  document.getElementById(id).innerHTML = `
    <div class="asset">${title}</div>
    <div class="bias ${biasClass}">${obj.bias}</div>
    <div class="confidence">Confidence: ${obj.confidence}</div>
    <ul class="drivers">
      ${obj.drivers.map(d => `<li>• ${d}</li>`).join("")}
    </ul>
  `;
}
</script>
</body>
</html>
